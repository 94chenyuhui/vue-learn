<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript" src="../vue.min.js">
			
		</script>
	</head>
	<body>
		<div id="app">
			{{count}}
			<ul>
				<li v-for="i in arr">{{i}}</li>
			</ul>
		</div>
		<button type="button" onclick="add()">add</button>
		<script type="text/javascript">
			function add(){
				//Vue.set(outData,"count",2);
				//app.count++;
				//outData.count++;
				
				//app.arr[1]="ddd";//代码运行了，但是没有更新
				//outData.arr[1]='ddd';//代码运行了，但是没有更新
				console.log("我已经执行了");
				Vue.set(app.arr,1,"ddd")//Vue.set存在的意义，用于数组更新数组
			}
			var outData={
				count:1,
				arr:["aaa","bbb",'ccc']
			}
			var app=new Vue({
				el:"#app",
				data:outData
			})
			/*
			在外部改变数据的三种方法
			1、用Vue.set改变
					function add(){
						Vue.set(outData,'count',4);
								}
			2、用Vue对象的方法添加
					app.count++;
			3、直接操作外部数据
					outData.count++;
					
			为什么要有Vue.set的存在?
			
			由于Javascript的限制，Vue不能自动检测以下变动的数组。
			
			当你利用索引直接设置一个项时，vue不会为我们自动更新。
			当你修改数组的长度时，vue不会为我们自动更新。
			*/
		</script>
		
		
	</body>
</html>
